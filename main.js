/*! For license information please see main.js.LICENSE.txt */
(()=>{"use strict";function e(e){e.target.closest(".places__item").remove()}function t(e){e.target.classList.toggle("card__like-button_is-active")}function n(e){var t=document.querySelector("#card-template").content.querySelector(".places__item").cloneNode(!0);t.querySelector(".card__title").textContent=e.name;var n=t.querySelector(".card__image");return n.setAttribute("src",e.link),n.setAttribute("alt",e.name),n.addEventListener("click",e.handleImageClick),t.querySelector(".card__delete-button").addEventListener("click",e.deleteCard),t.querySelector(".card__like-button").addEventListener("click",e.likeCard),t}var o=document.forms["edit-profile"],r=document.forms["new-place"],c=document.querySelector(".profile__title"),a=document.querySelector(".profile__description"),p=document.querySelector(".places__list"),l=document.querySelector(".popup_type_image"),d=document.querySelector(".popup__image"),u=document.querySelector(".popup__caption"),i=document.querySelector(".popup_type_edit"),s=document.querySelector(".popup_type_new-card");function m(e){e.classList.add("popup_is-opened"),document.addEventListener("keyup",_)}function f(e){e.classList.remove("popup_is-opened"),document.removeEventListener("keyup",_)}function _(e){if("Escape"===e.key){var t=document.querySelector(".popup_is-opened");null!==t&&f(t)}}var v=[{openBtn:document.querySelector(".profile__edit-button"),popupWnd:i,openCallBack:function(){o.name.value=c.textContent,o.description.value=a.textContent}},{openBtn:document.querySelector(".profile__add-button"),popupWnd:s,openCallBack:function(){}}],k=[{form:o,popupWnd:i,closeCallBack:function(){var e=o.name,t=o.description;c.textContent=e.value,a.textContent=t.value}},{form:r,popupWnd:s,closeCallBack:function(){var e=n(g(r["place-name"].value,r.link.value));p.prepend(e),r["place-name"].value="",r.link.value=""}}];function y(e){var t=e.target;d.src=t.src,d.alt=t.alt,u.textContent=t.alt,m(l)}function g(n,o){return{name:n,link:o,likeCard:t,deleteCard:e,handleImageClick:y}}[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){var t=n(g(e.name,e.link));p.appendChild(t)})),function(e){e.forEach((function(e){var t=e.openBtn,n=e.popupWnd,o=e.openCallBack;t.addEventListener("click",(function(e){m(n),o()}))})),document.querySelectorAll(".popup").forEach((function(e){e.addEventListener("mousedown",(function(t){t.target.classList.contains("popup_is-opened")&&f(e),t.target.classList.contains("popup__close")&&f(e)}))}))}(v),k.forEach((function(e){var t=e.form,n=e.popupWnd,o=e.closeCallBack;t.addEventListener("submit",(function(e){e.preventDefault(),f(n),o()}))}))})();